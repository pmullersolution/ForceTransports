@isTest
public with sharing class coreDocumentsTest {
    @TestSetup
    static void makeData(){

        Account c = new Account(name = 'A');

        insert  c;
        ContentVersion cv=new Contentversion();
        cv.title='ABC';
        cv.PathOnClient ='test';
        Blob b=Blob.valueOf('Unit Test Attachment Body');
        cv.versiondata=EncodingUtil.base64Decode('Unit Test Attachment Body');
        cv.FirstPublishLocationId=c.Id;

        insert cv;
        //file f = new file ('ZGVzYXJyb2xsbyBlbiBmcm9udA0KDQpjb21wb25lbnRlcyEhISEhISEhISEhISENCg0KdW4gY2FyZCA6IGRvcyBpbXB1dCB1biBhdXRwdXQgdW4gYm90DQpIYW5kbGRlIGNsaWNrIDogZXZlbnRvDQoNCmpzIGx3YyA6IGdvb2dsZWFyDQpmZXRjaA0KdGhlDQoNCnBhbnRhbGxhIGJvbml0YSBsbyBxdWUgaGlzbw0KYnVzY2FyIHVuIGphdmFzY3JpcHQgZW4gZWwgY3VhbCBjb252aXJ0aWVyYSBkZSBsZXRyYSBhIGNhbmNpb24NCmxhIGFwaSBkZXZ1ZWx2ZSB1biBhdWRpbw0KeSBsbyByZXBvZHVjZQ0KDQpqYXZhc2NyaXB0IGxldHRlciB0byB2b2ljZQ0KdGVjdCB0byBzcGVjaCBwcmltZXIgcGFnaW5hDQo3IGxpbmVhcyBkZSBjb2RpZ28NCmNvbiB1biBnZXQNCg0KDQoNCi8vUFJFR1VOVEFSIERPTkRFIFZFTyBMTyBRVUUgREVWVUxFVg0KDQoNCmxsYW1hciBhbCBzZXJ2aWNpb24gZGVzZGUgbGloaW5nIHdlYiBjb21wb25lbnQgDQp1bmEgY2xhc2UgbnVldmEgZW4gbGEgY3VhbCBpbnNlcnRlIGVsIGFydGlzdGEgbGEgY2lhb24geSBsYSBsZXRyYSBkZW50cm8gZGVsIG9iamV0byBxdWUgY3JlYW1vcyBjYW5jaW9uDQogdWx0aW1vLCBsbGFtYXIgYSB1biBtZXRvZG8gYXBleCBwYXJhIGluc2VydGFyIGxhIGNhbmNpb24sIGxldHJhIHkgbHlyeWNhDQplbiBlbCBvYmpldG8gY2FuY2lvbiANCg0KRUwgQ0FDSEUgU0lSVkUgPSBUUlVFIFNFUlZJRE9SIERFIENBQ0hFIA0KDQp1bHRpbWEgY2xhc2UgMjUNCg0KQGF1cmFlbmFibGVkIGV4cG9uZSBsYSBjbGFzZSBlbiBsaWdobmluIGNvbXBvbmVudA0KDQpBU1lOQz8/Pz8/Pz8/Pz8/Pz8/Pz8/DQoNCnN1cGVyYmF0Y2ggKyBhcGV4ICsgbGlobmluIHdlYiBjb21wb25lbnQgKyBhcGxpY2FjaW9uIGRlc2RlIDAgDQoNCmZ1dHVyPz8/Pz8/Pz8/Pz8/Pz8NCg0KZnV0cmUgcGVxdWXDsWFzIHRyYWVhcw0KDQp2YXJpYWJsZXMgc3RhdGVmdWwgDQoNCnN0YXJ0IHRlc3QNCnN0b3AgdGVzdA0KcGFyYSBxdWUgY29ycmEgZWwgYXNpbmNyb25pY28geSB0ZW5nb2EgbnVldm9zIGxpbWl0ZXMNCg0KV0lUSCBTSEFSSU5HDQoJZGVudHJvIGRlbCB3ZSBjb21wb25lbnQgcXVlIGxsYW1hIGEgdW5hIGNsYXNlIHF1ZSB0aWVuZSB1biBjb250cm9sYWRvciwuIHdoaXQgc2hlcmluZyB2YSBhIGNvbnRyb2xhciBxdWUgc2UgZXN0ZSBlamVjdXRhbmRvIGxhIHZpc2liaWxpZGFkIGRlIGxvcyByZWdpc3Ryb3MNCmEgbG9zIHF1ZSBlbCBzdXN1YXJpbyBwdWVkZSBhY2NlZGVyDQoNCg0KDQoNCg0KDQo=');

       
    }
    
    static testmethod void getDocumentsOK(){


    Account a = [SELECT Id FROM Account];
    coreDocuments.getDocuments(a.Id);

    } 

    static testmethod void uploadfile(){
        Account cv = [SELECT Id FROM Account];
        String f ='ZGVzYXJyb2xsbyBlbiBmcm9udA0KDQpjb21wb25lbnRlcyEhISEhISEhISEhISENCg0KdW4gY2FyZCA6IGRvcyBpbXB1dCB1biBhdXRwdXQgdW4gYm90DQpIYW5kbGRlIGNsaWNrIDogZXZlbnRvDQoNCmpzIGx3YyA6IGdvb2dsZWFyDQpmZXRjaA0KdGhlDQoNCnBhbnRhbGxhIGJvbml0YSBsbyBxdWUgaGlzbw0KYnVzY2FyIHVuIGphdmFzY3JpcHQgZW4gZWwgY3VhbCBjb252aXJ0aWVyYSBkZSBsZXRyYSBhIGNhbmNpb24NCmxhIGFwaSBkZXZ1ZWx2ZSB1biBhdWRpbw0KeSBsbyByZXBvZHVjZQ0KDQpqYXZhc2NyaXB0IGxldHRlciB0byB2b2ljZQ0KdGVjdCB0byBzcGVjaCBwcmltZXIgcGFnaW5hDQo3IGxpbmVhcyBkZSBjb2RpZ28NCmNvbiB1biBnZXQNCg0KDQoNCi8vUFJFR1VOVEFSIERPTkRFIFZFTyBMTyBRVUUgREVWVUxFVg0KDQoNCmxsYW1hciBhbCBzZXJ2aWNpb24gZGVzZGUgbGloaW5nIHdlYiBjb21wb25lbnQgDQp1bmEgY2xhc2UgbnVldmEgZW4gbGEgY3VhbCBpbnNlcnRlIGVsIGFydGlzdGEgbGEgY2lhb24geSBsYSBsZXRyYSBkZW50cm8gZGVsIG9iamV0byBxdWUgY3JlYW1vcyBjYW5jaW9uDQogdWx0aW1vLCBsbGFtYXIgYSB1biBtZXRvZG8gYXBleCBwYXJhIGluc2VydGFyIGxhIGNhbmNpb24sIGxldHJhIHkgbHlyeWNhDQplbiBlbCBvYmpldG8gY2FuY2lvbiANCg0KRUwgQ0FDSEUgU0lSVkUgPSBUUlVFIFNFUlZJRE9SIERFIENBQ0hFIA0KDQp1bHRpbWEgY2xhc2UgMjUNCg0KQGF1cmFlbmFibGVkIGV4cG9uZSBsYSBjbGFzZSBlbiBsaWdobmluIGNvbXBvbmVudA0KDQpBU1lOQz8/Pz8/Pz8/Pz8/Pz8/Pz8/DQoNCnN1cGVyYmF0Y2ggKyBhcGV4ICsgbGlobmluIHdlYiBjb21wb25lbnQgKyBhcGxpY2FjaW9uIGRlc2RlIDAgDQoNCmZ1dHVyPz8/Pz8/Pz8/Pz8/Pz8NCg0KZnV0cmUgcGVxdWXDsWFzIHRyYWVhcw0KDQp2YXJpYWJsZXMgc3RhdGVmdWwgDQoNCnN0YXJ0IHRlc3QNCnN0b3AgdGVzdA0KcGFyYSBxdWUgY29ycmEgZWwgYXNpbmNyb25pY28geSB0ZW5nb2EgbnVldm9zIGxpbWl0ZXMNCg0KV0lUSCBTSEFSSU5HDQoJZGVudHJvIGRlbCB3ZSBjb21wb25lbnQgcXVlIGxsYW1hIGEgdW5hIGNsYXNlIHF1ZSB0aWVuZSB1biBjb250cm9sYWRvciwuIHdoaXQgc2hlcmluZyB2YSBhIGNvbnRyb2xhciBxdWUgc2UgZXN0ZSBlamVjdXRhbmRvIGxhIHZpc2liaWxpZGFkIGRlIGxvcyByZWdpc3Ryb3MNCmEgbG9zIHF1ZSBlbCBzdXN1YXJpbyBwdWVkZSBhY2NlZGVyDQoNCg0KDQoNCg0KDQo=';
        coreDocuments.uploadFile(f,'TestName',cv.Id);        

    }
}